---
layout: post
title: Hadoop-eclipse-plgin 自己编译这事儿不难
category: hadoop
---

h3. 网上的教程让我有太多的眼泪，还是自己写一个吧，哈里路亚

h2. 平台环境

* Win7
* Eclipse Helios
* Hadoop-1.0.4 

h2. Step1 安装 Ant

<a href="http://ant.apache.org/bindownload.cgi" target="_blank">获取 apache-ant-1.9.1-bin.zip</a>

解压缩到合适的目录，并将 bin 目录加入到环境变量 PATH 中

h2. Step2 

<a href="http://archive.apache.org/dist/hadoop/core/hadoop-1.0.4/" target="_blank">获取 hadoop-1.0.4.tar.gz</a>

解压缩到 Eclipse workspace 目录下（如: F:\workspace）

h2. Step3

在 Eclipse 中选择 File-->Import-->Existing Projects into Workspace 导入已有项目，路径为: F:\workspace\hadoop-1.0.4\src\contrib\eclipse-plugin，其默认的项目名称是 MapReduceTools

h2. Step4

在项目 MapReduceTools 中新建 lib 目录，将 hadoop-1.0.4 下的 hadoop-core-1.0.4.jar（重命名为 hadoop.core.jar），及其 lib 目录下的 commons-cli-1.2.jar、commons-lang-2.4.jar、commons-configuration-1.6.jar、jackson-mapper-asl-1.8.8.jar、jackson-core-asl-1.8.8.jar、commons-httpclient-3.0.1.jar 拷贝到该目录。

h2. Step5

将 F:\workspace\hadoop-1.0.4\src\contrib\build-contrib.xml（与 eclipse-plugin 包在同一级目录）拷贝到 MapReduceTools 项目目录中。

修改 build-contrib.xml，注意路径用 "/"

{% highlight xml %}
<!-- 修改 hadoop 存放目录-->
<property name="hadoop.root" location="F:/workspace/hadoop-1.0.4"/>
<!-- 添加 eclipse 存放目录-->
<property name="eclipse.home" location="F:/eclipse" />
<!-- 添加 hadoop 版本-->
<property name="version" value="1.0.4"/>
{% endhighlight %}


